<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta http-equiv="content-type" content="text/xml; charset=utf-8" />
  <meta http-equiv="content-language" content="en-ca" />
  <meta http-equiv="keywords" content="volvelles,paper,computers,shamir,ssss,codex32,bitcoin" />
  <link rel="stylesheet" href="../main.css" type="text/css" />
  <title>Codex32: An Illustrated Secret Sharing Guide</title>
  <script src='../pkg/volvelle_wasm.js'></script>
  <script src='./index.js'></script>
</head>
<body onload="body_onload()">
    <div id="title">
      <a href="../index.html"><img class="tlimg" src="../codex32_sm.png" alt="Codex32 Logo" /></a>
      <div id="slogan"></div>
      <div id="top_links">
        <a href="../index.html" class="tllink">HOME</a>
        <span class="cllink">INTERACTIVE TOOLS</span>
        <a href="../faq/index.html" class="tllink">FAQ</a>
        <a href="../docs/index.html" class="tllink">DOCUMENTS</a>
        <a href="../help/index.html" class="trlink">HELP!</a>
      </div>
    </div>
    <div id="div_content">
      <noscript><font color="red">You must enable javascript for the interactive tools to work.</font></noscript>
      <div id="div_home">
        <h1>Interactive Worksheets</h1>
        <table width="50%"><tr>
        <td style="text-align: right"><label for="i_checksum">HRP: </label></td>
        <td><input id="i_hrp" name="i_hrp" onchange="selectGlobalParams()" value="ms"></td>
        </tr><tr>
        <td style="text-align: right"><label for="i_checksum">Checksum: </label></td>
        <td><select id="i_checksum" name="i_checksum" onchange="selectGlobalParams()">
          <option value="0">codex32</option>
          <option value="1">bech32</option>
        </select></td>
        </tr><tr>
        <td style="text-align: right"><label for="i_size">Share Size: </label></td>
        <td><select id="i_size" name="i_size" onchange="selectGlobalParams()">
          <option value="17">17 (workshop 2022-10)</option>
          <option value="32">32 (workshop 2022-06)</option>
          <option value="48" selected="true">48 (128-bit secret)</option>
        </select></td>
        </tr><tr>
        <td style="text-align: right"><label for="i_k">Threshold: </label></td>
        <td><select id="i_k" name="i_k" onchange="selectGlobalParams()">
          <option value = "0">1 (no splitting)</option>
          <option value = "2">2</option>
          <option value = "3">3</option>
          <option value = "4">4</option>
          <option value = "5">5</option>
          <option value = "6">6</option>
          <option value = "7">7</option>
          <option value = "8">8</option>
          <option value = "9">9</option>
        </select></td>
        </tr>
        <tr style="text-align: center">
        <td><input style="padding: 0.5ex 2ex; margin: 1em 0" type="button" value="Cancel" disabled id="bt_cancel" onclick="cancelGlobalParams()" /></td>
        <td><input style="padding: 0.5ex 2ex; margin: 1em 0" type="button" value="Reset All" id="bt_update" onclick="updateGlobalParams()" /></td>
        </tr></table>
        <div id="div_sharelist">
          <h1>Shares</h1>
          <a id="a_newshare" href="#" onclick="newInitialShare()">New initial share</a><br />
        </div>
      </div>

      <script>
        // Hacky way to compute the width of a cell after borders etc are factored in
        // Note that this needs to be in the document body (or in an onload handler,
        // but it is hard then to assign to the constant g_cellparams)
        let dummy = document.createElement("input");
        dummy.className = "cell";
        dummy.style.borderLeft = "3px";
        dummy.style.borderTop = "3px";
        dummy.value = "X";
        document.body.appendChild(dummy);
        const g_cellparams = {
            height: dummy.offsetHeight,
            width: dummy.offsetWidth,
            spacer: dummy.offsetHeight / 4
        };
        document.body.removeChild(dummy); // you didn't see nothin

        // from https://stackoverflow.com/questions/951021/what-is-the-javascript-version-of-sleep
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
      </script>
    </div>
</body>
</html>
